(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{snZD:function(t,a,s){"use strict";s.r(a);var e,n=s("WyAD"),i={datasets:[{lineTension:0,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255,99,132,1)"}]},r={legend:{display:!1},tooltips:{displayColors:!1},scales:{xAxes:[{type:"time",time:{tooltipFormat:"DD.MM.YY",unitStepSize:1,unit:"day",displayFormats:{hour:"MM.YY",day:"DD.MM.YY",week:"ll",month:"DD.MM.YYYY"}}}]}},d={ready:!1},o={props:{productId:{type:[String,Number],required:!0}},data:function(){return d},computed:{lng:function(){return this.$root.lng}},watch:{productId:function(){this.show_hist(1)}},mounted:function(){e=new n.Chart(document.getElementById("graph"),{type:"line",data:i,options:r}),this.show_hist(1)},methods:{show_hist:function(t){axios.get("/prod_history",{params:{id:this.productId}}).then((function(a){var s=0,n=a.data.length,r=i.datasets[0].data.length;if(r>0&&r>n&&i.datasets[0].data.splice(0,r),1===t)for(;s<n;s++)i.datasets[0].data[s]={x:a.data[s].date,y:(a.data[s].price*a.data[s].currency.rate).toFixed(2)},i.datasets[0].label="Price";else if(2===t)for(;s<n;s++)i.datasets[0].data[s]={x:a.data[s].date,y:a.data[s].sales},i.datasets[0].label="Sold";e.update()}))}}},l=s("KHd+"),c=Object(l.a)(o,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"panel panel-primary",staticStyle:{margin:"15px 0 0","border-width":"0"}},[s("div",{staticClass:"panel-heading",staticStyle:{padding:"6px 15px"}},[s("i",{staticClass:"fa fa-bar-chart",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",[t._v(t._s(t.lng.hist_graph)+"Â ")]),t._v(" "),s("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"..."}},[s("button",{staticClass:"btn btn-default btn-sm",attrs:{id:"graph_btn1",type:"button"},on:{click:function(a){return t.show_hist(1)}}},[t._v(t._s(t.lng.price_hist))]),t._v(" "),s("button",{staticClass:"btn btn-default btn-sm",attrs:{id:"graph_btn2",type:"button"},on:{click:function(a){return t.show_hist(2)}}},[t._v(t._s(t.lng.sales_hist))])])]),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"panel-body",staticStyle:{padding:"4px"}},[a("canvas",{attrs:{id:"graph",height:"70"}})])}],!1,null,null,null);a.default=c.exports}}]);