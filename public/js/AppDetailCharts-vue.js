(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{snZD:function(t,a,e){"use strict";e.r(a);var s,n=e("WyAD"),r={datasets:[{lineTension:0,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255,99,132,1)"}]},i={legend:{display:!1},tooltips:{displayColors:!1},scales:{xAxes:[{type:"time",time:{tooltipFormat:"DD.MM.YY",unitStepSize:1,unit:"day",displayFormats:{hour:"MM.YY",day:"DD.MM.YY",week:"ll",month:"DD.MM.YYYY"}}}]}},d={ready:!1},o={props:{productId:{type:[String,Number],required:!0}},data:function(){return d},computed:{lng:function(){return this.$root.lng}},watch:{productId:function(){this.productHistoryFetch(1)}},mounted:function(){s=new n.Chart(document.getElementById("graph"),{type:"line",data:r,options:i}),this.productHistoryFetch(1)},methods:{productHistoryFetch:function(t){axios.get("/product/history",{params:{id:this.productId}}).then((function(a){var e=0,n=a.data.length,i=r.datasets[0].data.length;if(i>0&&i>n&&r.datasets[0].data.splice(0,i),1===t)for(;e<n;e++)r.datasets[0].data[e]={x:a.data[e].date,y:(a.data[e].price*a.data[e].currency.rate).toFixed(2)},r.datasets[0].label="Price";else if(2===t)for(;e<n;e++)r.datasets[0].data[e]={x:a.data[e].date,y:a.data[e].sales},r.datasets[0].label="Sold";s.update()}))}}},l=e("KHd+"),c=Object(l.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"panel panel-primary",staticStyle:{margin:"15px 0 0","border-width":"0"}},[e("div",{staticClass:"panel-heading",staticStyle:{padding:"6px 15px"}},[e("i",{staticClass:"fa fa-bar-chart",attrs:{"aria-hidden":"true"}}),t._v(" "),e("span",[t._v(t._s(t.lng.hist_graph)+"Â ")]),t._v(" "),e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"..."}},[e("button",{staticClass:"btn btn-default btn-sm",attrs:{id:"graph_btn1",type:"button"},on:{click:function(a){return t.productHistoryFetch(1)}}},[t._v("\n          "+t._s(t.lng.price_hist)+"\n        ")]),t._v(" "),e("button",{staticClass:"btn btn-default btn-sm",attrs:{id:"graph_btn2",type:"button"},on:{click:function(a){return t.productHistoryFetch(2)}}},[t._v("\n          "+t._s(t.lng.sales_hist)+"\n        ")])])]),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"panel-body",staticStyle:{padding:"4px"}},[a("canvas",{attrs:{id:"graph",height:"70"}})])}],!1,null,null,null);a.default=c.exports}}]);